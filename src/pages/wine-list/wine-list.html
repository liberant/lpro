<!--
  Generated template for the WineListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>wine-list</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-grid>
    <form [formGroup]="orderForm" (ngSubmit)="placeOrder(orderForm.value)" *ngIf="orderForm">

      <ion-row>
        <ion-col>
          <h2>Wine List</h2>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-8>Name</ion-col>
        <ion-col col-2>Qty</ion-col>
        <ion-col col-2>Order</ion-col>
      </ion-row>
      <ion-row>
        <div formArrayName="prods">
          <ion-grid *ngFor="let product of orderForm.controls['prods'].controls; let i=index">
            <div [formGroupName]="i">
              <ion-row align-items-end>
                <ion-col col-8>
                  <ion-item>
                    <ion-input type="text" formControlName="name" [readonly]></ion-input>
                    <ion-note item-end></ion-note>
                  </ion-item>
                </ion-col>
                <ion-col col-2>
                  <ion-item>
                    <ion-input type="number" formControlName="qty" placeholder="0">
                    </ion-input>
                  </ion-item>
                </ion-col>

                <ion-col col-2>
                  <ion-item>
                    <button ion-button icon-right icon-only (click)="placeOrder(product)">
                      <ion-icon small name="add"></ion-icon>
                    </button>
                  </ion-item>
                </ion-col>
              </ion-row>
            </div>
          </ion-grid>
        </div>
      </ion-row>

      <ion-row>
        <button ion-button block type="submit">Done</button>

      </ion-row>
    </form>

  </ion-grid>

</ion-content>
